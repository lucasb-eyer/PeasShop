// Generated by CoffeeScript 1.6.1
var conn, connect;

conn = 0;

connect = function() {
  var addr, err, g;
  if (window["WebSocket"] == null) {
    err = "No WebSocket support. Get a better browser!";
    alert(err);
    throw new Error(err);
  }
  g = (window.location.pathname.match(/.*game\/([a-zA-Z0-9]+).*/))[1];
  addr = "ws://" + window.location.host + "/ws?g=" + g;
  conn = new WebSocket(addr);
  conn.onopen = function(evt) {
    console.log("Connected!");
    console.log(evt);
    return conn.send('Echo this, biatch!');
  };
  conn.onclose = function(evt) {
    console.log("Connection lost");
    return console.log(evt);
  };
  return conn.onmessage = function(evt) {
    console.log("Message!");
    return console.log(evt.data);
  };
};
